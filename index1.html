<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Super Keyboard - Numeric Pad</title>
    <meta name="description" content="Numpad for Super Keyboard."></meta>
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="dist/aframe-super-keyboard.min.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script> 
    <script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v3.13.1/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://wandererou.github.io/aframe-keyboard/examples/aframe-keyboard.min.js"></script>
  </head>
  <body>
    <a-scene environment="preset: contact; skyColor: #ff4700; horizonColor: #ff4700; ground: hills; groundTexture: checkerboard; groundColor: #4f3e4b; groundColor2: #4d3c47; dressing: none; grid: none">
 

      <a-assets>
        <img id="logo" crossorigin="anonymous" src="selo_promo.png">
      </a-assets>
      <a-camera>
          <a-cursor 
            color="#FFF"
            cursor="fuse: true;fuseTimeout:300"
            position="0 0 -0.4"
          />
      </a-camera>
      <a-image src="#logo" position="-0.23 4.9 -6.7981" material="height:251.17" geometry="" scale="5.11889 3.84183 10.65189"></a-image>

      <!-- keyboard -->
      <a-text id="input" font="dejavu" color="#000" value="COD" scale="0.5 0.5 0.5" position="-0.500 1.720 -1.000"></a-text>
      <a-plane color="#FFF" scale="1.136 0.194 0" position="-0.020 1.730 -1.100" shader="flat"></a-plane>
      <a-entity
          id="keyboard"
          position="-0.250 1.6 -0.5"
          a-keyboard
      />

      <script>
        var input = ''
        function updateInput(e) {
          var code = parseInt(e.detail.code)
          switch(code) {
          case 13:
            teclando()
            break
          case 999:
            teclando()        
            return
          default:
            input = input + e.detail.value
            break
          }
          document.querySelector('#input').setAttribute('value', input + '_')
        }

        function teclando(){
          var keyboard = document.querySelector('#keyboard')
          document.querySelector('#input').setAttribute('value', input)
          document.querySelector('#input').setAttribute('color', 'blue')
          keyboard.parentNode.removeChild(keyboard)
          window.location = 'game.html?cod='+input//'select.html?cod='+input
        }
        
        document.addEventListener('a-keyboard-update', updateInput)
      </script>
  </body>
</html>
